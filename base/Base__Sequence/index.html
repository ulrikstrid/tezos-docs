<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Base__Sequence (base.Base__Sequence)</title><link rel="stylesheet" href="../../odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">base</a> &#x00BB; Base__Sequence</nav><header class="odoc-preamble"><h1>Module <code><span>Base__Sequence</span></code></h1><p>A sequence of elements that can be produced one at a time, on demand, normally with no sharing.</p><p>The elements are computed on demand, possibly repeating work if they are demanded multiple times. A sequence can be built by unfolding from some initial state, which will in practice often be other containers.</p><p>Most functions constructing a sequence will not immediately compute any elements of the sequence. These functions will always return in O(1), but traversing the resulting sequence may be more expensive. The most they will do immediately is generate a new internal state and a new step function.</p><p>Functions that transform existing sequences sometimes have to reconstruct some suffix of the input sequence, even if it is unmodified. For example, calling <code>drop 1</code> will return a sequence with a slightly larger state and whose elements all cost slightly more to traverse. Because this is sometimes undesirable (for example, applying <code>drop
    1</code> n times will cost O(n) per element traversed in the result), there are also more eager versions of many functions (whose names are suffixed with <code>_eagerly</code>) that do more work up front. A function has the <code>_eagerly</code> suffix iff it matches both of these conditions:</p><ul><li>It might consume an element from an input <code>t</code> before returning.</li></ul><ul><li>It only returns a <code>t</code> (not paired with something else, not wrapped in an <code>option</code>, etc.). If it returns anything other than a <code>t</code> and it has at least one <code>t</code> input, it's probably demanding elements from the input <code>t</code> anyway.</li></ul><p>Only <code>*_exn</code> functions can raise exceptions, except if the function underlying the sequence (the <code>f</code> passed to <code>unfold</code>) raises, in which case the exception will cascade.</p></header><div class="odoc-content"></div></body></html>