<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Base__Hash_intf (base.Base__Hash_intf)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">base</a> &#x00BB; Base__Hash_intf</nav><header class="odoc-preamble"><h1>Module <code><span>Base__Hash_intf</span></code></h1><p><code>Hash_intf.S</code> is the interface which a hash function must support.</p><p>The functions of <code>Hash_intf.S</code> are only allowed to be used in specific sequence:</p><p><code>alloc</code>, <code>reset ?seed</code>, <code>fold_..*</code>, <code>get_hash_value</code>, <code>reset ?seed</code>, <code>fold_..*</code>, <code>get_hash_value</code>, ...</p><p>(The optional <code>seed</code>s passed to each reset may differ.)</p><p>The chain of applications from <code>reset</code> to <code>get_hash_value</code> must be done in a single-threaded manner (you can't use <code>fold_*</code> on a state that's been used before). More precisely, <code>alloc ()</code> creates a new family of states. All functions that take <code>t</code> and produce <code>t</code> return a new state from the same family.</p><p>At any point in time, at most one state in the family is &quot;valid&quot;. The other states are &quot;invalid&quot;.</p><ul><li>The state returned by <code>alloc</code> is invalid.</li><li>The state returned by <code>reset</code> is valid (all of the other states become invalid).</li><li>The <code>fold_*</code> family of functions requires a valid state and produces a valid state (thereby making the input state invalid).</li><li><code>get_hash_value</code> requires a valid state and makes it invalid.</li></ul><p>These requirements are currently formally encoded in the <code>Check_initialized_correctly</code> module in bench/bench.ml.</p></header><div class="odoc-content"></div></body></html>