<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Internal (resto.Resto.MakeService.Internal)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">resto</a> &#x00BB; <a href="../../index.html">Resto</a> &#x00BB; <a href="../index.html">MakeService</a> &#x00BB; Internal</nav><header class="odoc-preamble"><h1>Module <code><span>MakeService.Internal</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><div class="spec include"><div class="doc"><div class="odoc-spec"><div class="spec module" id="module-Ty" class="anchored"><a href="#module-Ty" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Ty/index.html">Ty</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-arg" class="anchored"><a href="#type-arg" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a arg</span></span><span> = </span><span>{</span></code><table><tr id="type-arg.id" class="anchored"><td class="def record field"><a href="#type-arg.id" class="anchor"></a><code><span>id : <span><span class="type-var">'a</span> <a href="Ty/index.html#type-id">Ty.id</a></span>;</span></code></td></tr><tr id="type-arg.destruct" class="anchored"><td class="def record field"><a href="#type-arg.destruct" class="anchor"></a><code><span>destruct : <span>string <span>&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span>;</span></code></td></tr><tr id="type-arg.construct" class="anchored"><td class="def record field"><a href="#type-arg.construct" class="anchor"></a><code><span>construct : <span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> string;</span></code></td></tr><tr id="type-arg.descr" class="anchored"><td class="def record field"><a href="#type-arg.descr" class="anchor"></a><code><span>descr : <a href="../../Arg/index.html#type-descr">Arg.descr</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-from_arg" class="anchored"><a href="#val-from_arg" class="anchor"></a><code><span><span class="keyword">val</span> from_arg : <span><span><span class="type-var">'a</span> <a href="#type-arg">arg</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../Arg/index.html#type-t">Arg.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_arg" class="anchored"><a href="#val-to_arg" class="anchor"></a><code><span><span class="keyword">val</span> to_arg : <span><span><span class="type-var">'a</span> <a href="../../Arg/index.html#type-t">Arg.t</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-arg">arg</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-path" class="anchored"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, _) path</span></span><span> = </span></code><table><tr id="type-path.Root" class="anchored"><td class="def variant constructor"><a href="#type-path.Root" class="anchor"></a><code><span>| </span><span><span class="constructor">Root</span> : <span><span>(<span class="type-var">'rkey</span>, <span class="type-var">'rkey</span>)</span> <a href="#type-path">path</a></span></span></code></td></tr><tr id="type-path.Static" class="anchored"><td class="def variant constructor"><a href="#type-path.Static" class="anchor"></a><code><span>| </span><span><span class="constructor">Static</span> : <span><span>(<span class="type-var">'rkey</span>, <span class="type-var">'key</span>)</span> <a href="#type-path">path</a></span> * string <span>&#45;&gt;</span> <span><span>(<span class="type-var">'rkey</span>, <span class="type-var">'key</span>)</span> <a href="#type-path">path</a></span></span></code></td></tr><tr id="type-path.Dynamic" class="anchored"><td class="def variant constructor"><a href="#type-path.Dynamic" class="anchor"></a><code><span>| </span><span><span class="constructor">Dynamic</span> : <span><span>(<span class="type-var">'rkey</span>, <span class="type-var">'key</span>)</span> <a href="#type-path">path</a></span> * <span><span class="type-var">'a</span> <a href="#type-arg">arg</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'rkey</span>, <span class="type-var">'key</span> * <span class="type-var">'a</span>)</span> <a href="#type-path">path</a></span></span></code></td></tr><tr id="type-path.DynamicTail" class="anchored"><td class="def variant constructor"><a href="#type-path.DynamicTail" class="anchor"></a><code><span>| </span><span><span class="constructor">DynamicTail</span> : <span><span>(<span class="type-var">'rkey</span>, <span class="type-var">'key</span>)</span> <a href="#type-path">path</a></span> * <span><span class="type-var">'a</span> <a href="#type-arg">arg</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'rkey</span>, <span class="type-var">'key</span> * <span><span class="type-var">'a</span> list</span>)</span> <a href="#type-path">path</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-from_path" class="anchored"><a href="#val-from_path" class="anchor"></a><code><span><span class="keyword">val</span> from_path : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span>&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../Path/index.html#type-t">Path.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_path" class="anchored"><a href="#val-to_path" class="anchor"></a><code><span><span class="keyword">val</span> to_path : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../Path/index.html#type-t">Path.t</a></span> <span>&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-query" class="anchored"><a href="#type-query" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a query</span></span><span> = </span></code><table><tr id="type-query.Fields" class="anchored"><td class="def variant constructor"><a href="#type-query.Fields" class="anchor"></a><code><span>| </span><span><span class="constructor">Fields</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query_fields">query_fields</a></span> * <span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="#type-query">query</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-query_fields" class="anchored"><a href="#type-query_fields" class="anchor"></a><code><span><span class="keyword">and</span> <span>('a, 'b) query_fields</span></span><span> = </span></code><table><tr id="type-query_fields.F0" class="anchored"><td class="def variant constructor"><a href="#type-query_fields.F0" class="anchor"></a><code><span>| </span><span><span class="constructor">F0</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="#type-query_fields">query_fields</a></span></span></code></td></tr><tr id="type-query_fields.F1" class="anchored"><td class="def variant constructor"><a href="#type-query_fields.F1" class="anchor"></a><code><span>| </span><span><span class="constructor">F1</span> : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query_field">query_field</a></span> * <span><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="#type-query_fields">query_fields</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> <span>&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <a href="#type-query_fields">query_fields</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-query_field" class="anchored"><a href="#type-query_field" class="anchor"></a><code><span><span class="keyword">and</span> <span>('a, 'b) query_field</span></span><span> = </span></code><table><tr id="type-query_field.Single" class="anchored"><td class="def variant constructor"><a href="#type-query_field.Single" class="anchor"></a><code><span>| </span><span><span class="constructor">Single</span> : </span><span>{</span></code><table><tr id="type-query_field.name" class="anchored"><td class="def record field"><a href="#type-query_field.name" class="anchor"></a><code><span>name : string;</span></code></td></tr><tr id="type-query_field.description" class="anchored"><td class="def record field"><a href="#type-query_field.description" class="anchor"></a><code><span>description : <span>string option</span>;</span></code></td></tr><tr id="type-query_field.ty" class="anchored"><td class="def record field"><a href="#type-query_field.ty" class="anchor"></a><code><span>ty : <span><span class="type-var">'b</span> <a href="#type-arg">arg</a></span>;</span></code></td></tr><tr id="type-query_field.default" class="anchored"><td class="def record field"><a href="#type-query_field.default" class="anchor"></a><code><span>default : <span class="type-var">'b</span>;</span></code></td></tr><tr id="type-query_field.get" class="anchored"><td class="def record field"><a href="#type-query_field.get" class="anchor"></a><code><span>get : <span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> <span class="type-var">'b</span>;</span></code></td></tr></table><code><span>}</span><span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query_field">query_field</a></span></span></code></td></tr><tr id="type-query_field.Opt" class="anchored"><td class="def variant constructor"><a href="#type-query_field.Opt" class="anchor"></a><code><span>| </span><span><span class="constructor">Opt</span> : </span><span>{</span></code><table><tr id="type-query_field.name" class="anchored"><td class="def record field"><a href="#type-query_field.name" class="anchor"></a><code><span>name : string;</span></code></td></tr><tr id="type-query_field.description" class="anchored"><td class="def record field"><a href="#type-query_field.description" class="anchor"></a><code><span>description : <span>string option</span>;</span></code></td></tr><tr id="type-query_field.ty" class="anchored"><td class="def record field"><a href="#type-query_field.ty" class="anchor"></a><code><span>ty : <span><span class="type-var">'b</span> <a href="#type-arg">arg</a></span>;</span></code></td></tr><tr id="type-query_field.get" class="anchored"><td class="def record field"><a href="#type-query_field.get" class="anchor"></a><code><span>get : <span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>;</span></code></td></tr></table><code><span>}</span><span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> option</span>)</span> <a href="#type-query_field">query_field</a></span></span></code></td></tr><tr id="type-query_field.Flag" class="anchored"><td class="def variant constructor"><a href="#type-query_field.Flag" class="anchor"></a><code><span>| </span><span><span class="constructor">Flag</span> : </span><span>{</span></code><table><tr id="type-query_field.name" class="anchored"><td class="def record field"><a href="#type-query_field.name" class="anchor"></a><code><span>name : string;</span></code></td></tr><tr id="type-query_field.description" class="anchored"><td class="def record field"><a href="#type-query_field.description" class="anchor"></a><code><span>description : <span>string option</span>;</span></code></td></tr><tr id="type-query_field.get" class="anchored"><td class="def record field"><a href="#type-query_field.get" class="anchor"></a><code><span>get : <span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> bool;</span></code></td></tr></table><code><span>}</span><span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, bool)</span> <a href="#type-query_field">query_field</a></span></span></code></td></tr><tr id="type-query_field.Multi" class="anchored"><td class="def variant constructor"><a href="#type-query_field.Multi" class="anchor"></a><code><span>| </span><span><span class="constructor">Multi</span> : </span><span>{</span></code><table><tr id="type-query_field.name" class="anchored"><td class="def record field"><a href="#type-query_field.name" class="anchor"></a><code><span>name : string;</span></code></td></tr><tr id="type-query_field.description" class="anchored"><td class="def record field"><a href="#type-query_field.description" class="anchor"></a><code><span>description : <span>string option</span>;</span></code></td></tr><tr id="type-query_field.ty" class="anchored"><td class="def record field"><a href="#type-query_field.ty" class="anchor"></a><code><span>ty : <span><span class="type-var">'b</span> <a href="#type-arg">arg</a></span>;</span></code></td></tr><tr id="type-query_field.get" class="anchored"><td class="def record field"><a href="#type-query_field.get" class="anchor"></a><code><span>get : <span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> <span><span class="type-var">'b</span> list</span>;</span></code></td></tr></table><code><span>}</span><span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>)</span> <a href="#type-query_field">query_field</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-from_query" class="anchored"><a href="#val-from_query" class="anchor"></a><code><span><span class="keyword">val</span> from_query : <span><span><span class="type-var">'a</span> <a href="#type-query">query</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../Query/index.html#type-t">Query.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_query" class="anchored"><a href="#val-to_query" class="anchor"></a><code><span><span class="keyword">val</span> to_query : <span><span><span class="type-var">'a</span> <a href="../../Query/index.html#type-t">Query.t</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-field_name" class="anchored"><a href="#val-field_name" class="anchor"></a><code><span><span class="keyword">val</span> field_name : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query_field">query_field</a></span> <span>&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-field_description" class="anchored"><a href="#val-field_description" class="anchor"></a><code><span><span class="keyword">val</span> field_description : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query_field">query_field</a></span> <span>&#45;&gt;</span></span> <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-field_kind" class="anchored"><a href="#val-field_kind" class="anchor"></a><code><span><span class="keyword">val</span> field_kind : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query_field">query_field</a></span> <span>&#45;&gt;</span></span> <a href="../../Description/index.html#type-query_kind">Description.query_kind</a></span></code></div></div></div></div></div><div class="odoc-spec"><div class="spec type" id="type-types" class="anchored"><a href="#type-types" class="anchor"></a><code><span><span class="keyword">type</span> <span>('query, 'input, 'output, 'error) types</span></span><span> = </span><span>{</span></code><table><tr id="type-types.query" class="anchored"><td class="def record field"><a href="#type-types.query" class="anchor"></a><code><span>query : <span><span class="type-var">'query</span> <a href="../../Query/index.html#type-t">Query.t</a></span>;</span></code></td></tr><tr id="type-types.input" class="anchored"><td class="def record field"><a href="#type-types.input" class="anchor"></a><code><span>input : <span><span class="type-var">'input</span> <a href="../index.html#type-input">input</a></span>;</span></code></td></tr><tr id="type-types.output" class="anchored"><td class="def record field"><a href="#type-types.output" class="anchor"></a><code><span>output : <span><span class="type-var">'output</span> <a href="../argument-1-Encoding/index.html#type-t">Encoding.t</a></span>;</span></code></td></tr><tr id="type-types.error" class="anchored"><td class="def record field"><a href="#type-types.error" class="anchor"></a><code><span>error : <span><span class="type-var">'error</span> <a href="../argument-1-Encoding/index.html#type-t">Encoding.t</a></span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-iservice" class="anchored"><a href="#type-iservice" class="anchor"></a><code><span><span class="keyword">type</span> <span>(+'meth, 'prefix, 'params, 'query, 'input, 'output, 'error) iservice</span></span><span> = </span><span>{</span></code><table><tr id="type-iservice.description" class="anchored"><td class="def record field"><a href="#type-iservice.description" class="anchor"></a><code><span>description : <span>string option</span>;</span></code></td></tr><tr id="type-iservice.meth" class="anchored"><td class="def record field"><a href="#type-iservice.meth" class="anchor"></a><code><span>meth : <span class="type-var">'meth</span>;</span></code></td></tr><tr id="type-iservice.path" class="anchored"><td class="def record field"><a href="#type-iservice.path" class="anchor"></a><code><span>path : <span><span>(<span class="type-var">'prefix</span>, <span class="type-var">'params</span>)</span> <a href="#type-path">path</a></span>;</span></code></td></tr><tr id="type-iservice.types" class="anchored"><td class="def record field"><a href="#type-iservice.types" class="anchor"></a><code><span>types : <span><span>(<span class="type-var">'query</span>, <span class="type-var">'input</span>, <span class="type-var">'output</span>, <span class="type-var">'error</span>)</span> <a href="#type-types">types</a></span>;</span></code></td></tr></table><code><span>}</span><span> <span class="keyword">constraint</span> <span class="type-var">'meth</span> = <span>[&lt; <a href="../../index.html#type-meth">meth</a> ]</span></span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Not_equal" class="anchored"><a href="#exception-Not_equal" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Not_equal</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-eq" class="anchored"><a href="#type-eq" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, _) eq</span></span><span> = </span></code><table><tr id="type-eq.Eq" class="anchored"><td class="def variant constructor"><a href="#type-eq.Eq" class="anchor"></a><code><span>| </span><span><span class="constructor">Eq</span> : <span><span>(<span><span>(<span class="type-var">'query</span>, <span class="type-var">'input</span>, <span class="type-var">'output</span>, <span class="type-var">'error</span>)</span> <a href="#type-types">types</a></span>, <span><span>(<span class="type-var">'query</span>, <span class="type-var">'input</span>, <span class="type-var">'output</span>, <span class="type-var">'error</span>)</span> <a href="#type-types">types</a></span>)</span> <a href="#type-eq">eq</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-eq" class="anchored"><a href="#val-eq" class="anchor"></a><code><span><span class="keyword">val</span> eq : <span><span><span>(<span class="type-var">'query1</span>, <span class="type-var">'input1</span>, <span class="type-var">'output1</span>, <span class="type-var">'error1</span>)</span> <a href="#type-types">types</a></span> <span>&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'query2</span>, <span class="type-var">'input2</span>, <span class="type-var">'output2</span>, <span class="type-var">'error2</span>)</span> <a href="#type-types">types</a></span> <span>&#45;&gt;</span></span> <span><span>(<span><span>(<span class="type-var">'query1</span>, <span class="type-var">'input1</span>, <span class="type-var">'output1</span>, <span class="type-var">'error1</span>)</span> <a href="#type-types">types</a></span>, <span><span>(<span class="type-var">'query2</span>, <span class="type-var">'input2</span>, <span class="type-var">'output2</span>, <span class="type-var">'error2</span>)</span> <a href="#type-types">types</a></span>)</span> <a href="#type-eq">eq</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-from_service" class="anchored"><a href="#val-from_service" class="anchor"></a><code><span><span class="keyword">val</span> from_service : <span><span><span>(<span class="type-var">'meth</span>, <span class="type-var">'prefix</span>, <span class="type-var">'params</span>, <span class="type-var">'query</span>, <span class="type-var">'input</span>, <span class="type-var">'output</span>, <span class="type-var">'error</span>)</span> <a href="#type-iservice">iservice</a></span> <span>&#45;&gt;</span></span> <span><span>(<span class="type-var">'meth</span>, <span class="type-var">'prefix</span>, <span class="type-var">'params</span>, <span class="type-var">'query</span>, <span class="type-var">'input</span>, <span class="type-var">'output</span>, <span class="type-var">'error</span>)</span> <a href="../index.html#type-service">service</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_service" class="anchored"><a href="#val-to_service" class="anchor"></a><code><span><span class="keyword">val</span> to_service : <span><span><span>(<span class="type-var">'meth</span>, <span class="type-var">'prefix</span>, <span class="type-var">'params</span>, <span class="type-var">'query</span>, <span class="type-var">'input</span>, <span class="type-var">'output</span>, <span class="type-var">'error</span>)</span> <a href="../index.html#type-service">service</a></span> <span>&#45;&gt;</span></span> <span><span>(<span class="type-var">'meth</span>, <span class="type-var">'prefix</span>, <span class="type-var">'params</span>, <span class="type-var">'query</span>, <span class="type-var">'input</span>, <span class="type-var">'output</span>, <span class="type-var">'error</span>)</span> <a href="#type-iservice">iservice</a></span></span></code></div></div></div></body></html>