<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ringo (ringo.Ringo)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">ringo</a> &#x00BB; Ringo</nav><header class="odoc-preamble"><h1>Module <code><span>Ringo</span></code></h1><p>Preamble</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module-type" id="module-type-UNBOXED_COLLECTION" class="anchored"><a href="#module-type-UNBOXED_COLLECTION" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-UNBOXED_COLLECTION/index.html">UNBOXED_COLLECTION</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Ring" class="anchored"><a href="#module-Ring" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Ring/index.html">Ring</a></span><span> : <a href="module-type-UNBOXED_COLLECTION/index.html">UNBOXED_COLLECTION</a></span></code></div><div class="spec-doc"><p><code>Ring</code> is a potentially useful module that is used internally to manage bounded, FIFO collections of items. The documentation is available in <a href="module-type-UNBOXED_COLLECTION/index.html"><code>UNBOXED_COLLECTION</code></a>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Dll" class="anchored"><a href="#module-Dll" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Dll/index.html">Dll</a></span><span> : <a href="module-type-UNBOXED_COLLECTION/index.html">UNBOXED_COLLECTION</a></span></code></div><div class="spec-doc"><p><code>Dll</code> is a potentially useful module that is used internally to manage bounded, LRU collections of items. The documentation is available in <a href="module-type-UNBOXED_COLLECTION/index.html"><code>UNBOXED_COLLECTION</code></a>.</p></div></div><p>Caches</p><div class="odoc-spec"><div class="spec module-type" id="module-type-CACHE_MAP" class="anchored"><a href="#module-type-CACHE_MAP" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-CACHE_MAP/index.html">CACHE_MAP</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-CACHE_SET" class="anchored"><a href="#module-type-CACHE_SET" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-CACHE_SET/index.html">CACHE_SET</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>All caches of Ringo have either the <a href="module-type-CACHE_MAP/index.html"><code>CACHE_MAP</code></a> interface (for key-value stores) or the <a href="module-type-CACHE_SET/index.html"><code>CACHE_SET</code></a> interface (for value stores). However, their behavior can be tweaked by the parameters below.</p><div class="odoc-spec"><div class="spec type" id="type-replacement" class="anchored"><a href="#type-replacement" class="anchor"></a><code><span><span class="keyword">type</span> replacement</span><span> = </span></code><table><tr id="type-replacement.LRU" class="anchored"><td class="def variant constructor"><a href="#type-replacement.LRU" class="anchor"></a><code><span>| </span><span><span class="constructor">LRU</span></span></code></td></tr><tr id="type-replacement.FIFO" class="anchored"><td class="def variant constructor"><a href="#type-replacement.FIFO" class="anchor"></a><code><span>| </span><span><span class="constructor">FIFO</span></span></code></td></tr></table></div><div class="spec-doc"><p><code>replacement</code> is for defining the replacement policy of a cache. <code>LRU</code> is for &quot;Least Recently Used&quot;, meaning that when a supernumerary item is inserted in the cache, the least recently used item is removed to make room. <code>FIFO</code> is for &quot;First-In, First-Out&quot; meaning that when a supernumerary item is inserted in the cache, the oldest inserted element is removed to make room.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-overflow" class="anchored"><a href="#type-overflow" class="anchor"></a><code><span><span class="keyword">type</span> overflow</span><span> = </span></code><table><tr id="type-overflow.Strong" class="anchored"><td class="def variant constructor"><a href="#type-overflow.Strong" class="anchor"></a><code><span>| </span><span><span class="constructor">Strong</span></span></code></td></tr><tr id="type-overflow.Weak" class="anchored"><td class="def variant constructor"><a href="#type-overflow.Weak" class="anchor"></a><code><span>| </span><span><span class="constructor">Weak</span></span></code></td></tr></table></div><div class="spec-doc"><p><code>overflow</code> is for defining the overflow policy of a cache. <code>Strong</code> means that the cache never holds more element than is specified when calling <code>create</code> (see <a href="module-type-MAP_MAKER/index.html"><code>MAP_MAKER</code></a> and <a href="module-type-SET_MAKER/index.html"><code>SET_MAKER</code></a> below and <a href="module-type-CACHE_MAP/index.html"><code>CACHE_MAP</code></a> and <a href="module-type-CACHE_SET/index.html"><code>CACHE_SET</code></a>). <code>Weak</code> means that the cache may hold more elements than specified when calling <code>create</code> but that supernumerary elements may be collected by the Garbage Collector.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-accounting" class="anchored"><a href="#type-accounting" class="anchor"></a><code><span><span class="keyword">type</span> accounting</span><span> = </span></code><table><tr id="type-accounting.Precise" class="anchored"><td class="def variant constructor"><a href="#type-accounting.Precise" class="anchor"></a><code><span>| </span><span><span class="constructor">Precise</span></span></code></td></tr><tr id="type-accounting.Sloppy" class="anchored"><td class="def variant constructor"><a href="#type-accounting.Sloppy" class="anchor"></a><code><span>| </span><span><span class="constructor">Sloppy</span></span></code></td></tr></table></div><div class="spec-doc"><p><code>accounting</code> is for defining the accounting policy of a cache. <code>Precise</code> means that the cache counts its number of elements precisely. <code>Sloppy</code> means that the cache may count elements that have been <code>remove</code>d from the cache as still being held by the cache.</p><p>Note that when requesting a <code>Sloppy</code> cache, the library might give you a <code>Precise</code> cache if there is no additional runtime cost. In general, <code>Sloppy</code> caches are more efficient, but (1) they are not adapted to situations where you remove many elements and (2) depending on the other parameters they might be only as-efficient-as (not more) than <code>Precise</code> caches.</p><p>Use <code>Precise</code> only if you use <code>remove</code> a lot or if you need strong guarantee on the number of elements.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-MAP_MAKER" class="anchored"><a href="#module-type-MAP_MAKER" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-MAP_MAKER/index.html">MAP_MAKER</a></span><span> = <span class="keyword">functor</span><span> (<a href="module-type-MAP_MAKER/argument-1-H/index.html">H</a> : <a href="../../ocaml/Stdlib/Hashtbl/module-type-HashedType/index.html">Stdlib.Hashtbl.HashedType</a>) <span>&#45;&gt;</span></span> <a href="module-type-CACHE_MAP/index.html">CACHE_MAP</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-CACHE_MAP/index.html#type-key">key</a> = <a href="module-type-MAP_MAKER/argument-1-H/index.html#type-t">H.t</a></span></span></code></div><div class="spec-doc"><p>A <code>MAP_MAKER</code> is a functor that instantiates <code>CACHE_MAP</code>s based on a given type and its associated hash function.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-map_maker" class="anchored"><a href="#type-map_maker" class="anchor"></a><code><span><span class="keyword">type</span> map_maker</span><span> = <span>(<span class="keyword">module</span> <a href="module-type-MAP_MAKER/index.html">MAP_MAKER</a>)</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map_maker" class="anchored"><a href="#val-map_maker" class="anchor"></a><code><span><span class="keyword">val</span> map_maker : <span>replacement:<a href="#type-replacement">replacement</a> <span>&#45;&gt;</span></span> <span>overflow:<a href="#type-overflow">overflow</a> <span>&#45;&gt;</span></span> <span>accounting:<a href="#type-accounting">accounting</a> <span>&#45;&gt;</span></span> <a href="#type-map_maker">map_maker</a></span></code></div><div class="spec-doc"><p><code>map_maker ~replacement ~overflow ~accounting</code> is a first-class <code>MAP_MAKER</code> that instantiates caches with the policies specified by <code>replacement</code>, <code>overflow</code>, and <code>accounting</code>.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-SET_MAKER" class="anchored"><a href="#module-type-SET_MAKER" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-SET_MAKER/index.html">SET_MAKER</a></span><span> = <span class="keyword">functor</span><span> (<a href="module-type-SET_MAKER/argument-1-H/index.html">H</a> : <a href="../../ocaml/Stdlib/Hashtbl/module-type-HashedType/index.html">Stdlib.Hashtbl.HashedType</a>) <span>&#45;&gt;</span></span> <a href="module-type-CACHE_SET/index.html">CACHE_SET</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-CACHE_SET/index.html#type-elt">elt</a> = <a href="module-type-SET_MAKER/argument-1-H/index.html#type-t">H.t</a></span></span></code></div><div class="spec-doc"><p>A <code>SET_MAKER</code> is a functor that instantiates <code>CACHE_SET</code>s based on a given type and its associated hash function.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-set_maker" class="anchored"><a href="#type-set_maker" class="anchor"></a><code><span><span class="keyword">type</span> set_maker</span><span> = <span>(<span class="keyword">module</span> <a href="module-type-SET_MAKER/index.html">SET_MAKER</a>)</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_maker" class="anchored"><a href="#val-set_maker" class="anchor"></a><code><span><span class="keyword">val</span> set_maker : <span>replacement:<a href="#type-replacement">replacement</a> <span>&#45;&gt;</span></span> <span>overflow:<a href="#type-overflow">overflow</a> <span>&#45;&gt;</span></span> <span>accounting:<a href="#type-accounting">accounting</a> <span>&#45;&gt;</span></span> <a href="#type-set_maker">set_maker</a></span></code></div><div class="spec-doc"><p><code>set_maker ~replacement ~overflow ~accounting</code> is a first-class <code>SET_MAKER</code> that instantiates caches with the policies specified by <code>replacement</code>, <code>overflow</code>, and <code>accounting</code>.</p></div></div></div></body></html>