<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tezos_base__Block_locator (tezos-base.Tezos_base__Block_locator)</title><link rel="stylesheet" href="../../odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">tezos-base</a> &#x00BB; Tezos_base__Block_locator</nav><header class="odoc-preamble"><h1>Module <code><span>Tezos_base__Block_locator</span></code></h1><p>A locator <code>t</code> is a data structure which roughly represents a list of block hashes in the chain. These hashes go from the top of the chain to the bottom. It is sparse in the sense that the distance between two hashes increases exponentially when we move away from the head.</p><p>The distance between two hashes of a locator is randomized to prevent attacks. The seed is determined uniquely from the <code>peer_id</code> of the sender and the receiver so that the distance between two hashes can be recomputed locally. This is the purpose of the function <code>to_steps</code>.</p><p>The <code>step</code> representation is mostly used by the <code>peer_validator</code> and the <code>bootstrap_pipeline</code> modules.</p><p>The last step of a locator may be truncated. It is the case when the last step hits the caboose. Thus, such a <code>non-strict</code> step can be terminated by:</p><ul><li>The genesis: it is the case in both <code>Archive</code> and <code>Full</code> modes as the caboose is always located down to the genesis block, but it is also the case in a <code>Rolling</code> mode early state (when caboose = genesis).</li></ul><ul><li>Any block: it is the case in <code>Rolling</code> mode when the caboose is higher than the genesis. Indeed, the caboose can be located (almost) anywhere.</li></ul></header><div class="odoc-content"></div></body></html>