<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stats (staTz.StaTz.Stats)</title><link rel="stylesheet" href="../../../odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">staTz</a> &#x00BB; <a href="../index.html">StaTz</a> &#x00BB; Stats</nav><header class="odoc-preamble"><h1>Module <code><span>StaTz.Stats</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-gen" class="anchored"><a href="#type-gen" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a gen</span></span></code></div><div class="spec-doc"><p>Generative probability (i.e. sampler)</p></div></div><div class="odoc-spec"><div class="spec type" id="type-emp" class="anchored"><a href="#type-emp" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a emp</span></span></code></div><div class="spec-doc"><p>Empirical probability</p></div></div><div class="odoc-spec"><div class="spec type" id="type-fin_fun" class="anchored"><a href="#type-fin_fun" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a fin_fun</span></span></code></div><div class="spec-doc"><p>Finitely supported function</p></div></div><div class="odoc-spec"><div class="spec type" id="type-fin_den" class="anchored"><a href="#type-fin_den" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a fin_den</span></span><span> = <span class="keyword">private</span> <span><span class="type-var">'a</span> <a href="#type-fin_fun">fin_fun</a></span></span></code></div><div class="spec-doc"><p>Finitely supported density</p></div></div><div class="odoc-spec"><div class="spec type" id="type-fin_prb" class="anchored"><a href="#type-fin_prb" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a fin_prb</span></span><span> = <span class="keyword">private</span> <span><span class="type-var">'a</span> <a href="#type-fin_fun">fin_fun</a></span></span></code></div><div class="spec-doc"><p>Finitely supported probability</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_prb" class="anchored"><a href="#val-compare_prb" class="anchor"></a><code><span><span class="keyword">val</span> compare_prb : <span><span><span class="type-var">'a</span> <a href="#type-fin_prb">fin_prb</a></span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-fin_prb">fin_prb</a></span> <span>&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Total order on finitely supported probabilities, inherited from underlying total order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sample_gen" class="anchored"><a href="#val-sample_gen" class="anchor"></a><code><span><span class="keyword">val</span> sample_gen : <span><span><span class="type-var">'a</span> <a href="#type-gen">gen</a></span> <span>&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Sample from generative probability</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sample_emp" class="anchored"><a href="#val-sample_emp" class="anchor"></a><code><span><span class="keyword">val</span> sample_emp : <span><span><span class="type-var">'a</span> <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Sample from empirical probability</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sample_prb" class="anchored"><a href="#val-sample_prb" class="anchor"></a><code><span><span class="keyword">val</span> sample_prb : <span><span><span class="type-var">'a</span> <a href="#type-fin_prb">fin_prb</a></span> <span>&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Sample from finitely supported probability</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_gen" class="anchored"><a href="#val-map_gen" class="anchor"></a><code><span><span class="keyword">val</span> map_gen : <span><span>(<span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-gen">gen</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-gen">gen</a></span></span></code></div><div class="spec-doc"><p>Functorial action on generative probabilities</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_emp" class="anchored"><a href="#val-map_emp" class="anchor"></a><code><span><span class="keyword">val</span> map_emp : <span><span>(<span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-emp">emp</a></span></span></code></div><div class="spec-doc"><p>Functorial action on empirical probabilities</p></div></div><div class="odoc-spec"><div class="spec value" id="val-generative" class="anchored"><a href="#val-generative" class="anchor"></a><code><span><span class="keyword">val</span> generative : <span>sampler:<span>(<span>unit <span>&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-gen">gen</a></span></span></code></div><div class="spec-doc"><p>Creates a generative probability distribution from a sampler.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-density" class="anchored"><a href="#val-density" class="anchor"></a><code><span><span class="keyword">val</span> density : <span><span>(<span class="keyword">module</span> <a href="../Structures/module-type-Ordered/index.html">Structures.Ordered</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Structures/module-type-Ordered/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span>&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span> * float)</span> list</span> <span>&#45;&gt;</span></span> <span><span class="type-var">'elt</span> <a href="#type-fin_den">fin_den</a></span></span></code></div><div class="spec-doc"><p>Creates a finitely supported _density_ from weighted points. A density is not necessarily normalized. The underlying set needs to be totally ordered.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-total_mass" class="anchored"><a href="#val-total_mass" class="anchor"></a><code><span><span class="keyword">val</span> total_mass : <span><span><span class="type-var">'a</span> <a href="#type-fin_den">fin_den</a></span> <span>&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Returns the total mass associated to a finitely supported density.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-normalize" class="anchored"><a href="#val-normalize" class="anchor"></a><code><span><span class="keyword">val</span> normalize : <span><span><span class="type-var">'a</span> <a href="#type-fin_den">fin_den</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-fin_prb">fin_prb</a></span></span></code></div><div class="spec-doc"><p>Normalize a density to obtain a probability measure. This amounts to integrate the density wrt the uniform measure to obtain (via Riesz) a probability.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empirical_of_generative" class="anchored"><a href="#val-empirical_of_generative" class="anchor"></a><code><span><span class="keyword">val</span> empirical_of_generative : <span>nsamples:int <span>&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-gen">gen</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-emp">emp</a></span></span></code></div><div class="spec-doc"><p>Samples (under iid assumptions) <code>nsamples</code> times from <code>sampler</code>, producing an empirical distribution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empirical_of_raw_data" class="anchored"><a href="#val-empirical_of_raw_data" class="anchor"></a><code><span><span class="keyword">val</span> empirical_of_raw_data : <span><span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-emp">emp</a></span></span></code></div><div class="spec-doc"><p>Returns the empirical probability distribution associated to a raw array of samples.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-subsample" class="anchored"><a href="#val-subsample" class="anchor"></a><code><span><span class="keyword">val</span> subsample : <span>n:int <span>&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-gen">gen</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-gen">gen</a></span></span></code></div><div class="spec-doc"><p>Subsamples the given empirical generative distribution by sampling one out of <code>n</code> samples.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fin_prb_of_empirical" class="anchored"><a href="#val-fin_prb_of_empirical" class="anchor"></a><code><span><span class="keyword">val</span> fin_prb_of_empirical : <span><span>(<span class="keyword">module</span> <a href="../Structures/module-type-Ordered/index.html">Structures.Ordered</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Structures/module-type-Ordered/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'elt</span> <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'elt</span> <a href="#type-fin_prb">fin_prb</a></span></span></code></div><div class="spec-doc"><p>Computes density from empirical distribution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-uniform" class="anchored"><a href="#val-uniform" class="anchor"></a><code><span><span class="keyword">val</span> uniform : <span><span>(<span class="keyword">module</span> <a href="../Structures/module-type-Ordered/index.html">Structures.Ordered</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Structures/module-type-Ordered/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'elt</span> array</span> <span>&#45;&gt;</span></span> <span><span class="type-var">'elt</span> <a href="#type-fin_prb">fin_prb</a></span></span></code></div><div class="spec-doc"><p>Finitely supported uniform distribution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-eval_prb" class="anchored"><a href="#val-eval_prb" class="anchor"></a><code><span><span class="keyword">val</span> eval_prb : <span><span><span class="type-var">'elt</span> <a href="#type-fin_prb">fin_prb</a></span> <span>&#45;&gt;</span></span> <span><span class="type-var">'elt</span> <span>&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Evaluates finitely supported probability on argument. Returns 0 if the argument is out of the support.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empirical_float_random" class="anchored"><a href="#val-empirical_float_random" class="anchor"></a><code><span><span class="keyword">val</span> empirical_float_random : <span>nsamples:int <span>&#45;&gt;</span></span> <span>samplers:<span><span>float <a href="#type-gen">gen</a></span> array</span> <span>&#45;&gt;</span></span>
<span><span>float <a href="#type-emp">emp</a></span> array</span></span></code></div><div class="spec-doc"><p>Samples (under iid assumptions) <code>nsamples</code> times from each element of <code>samplers</code>, producing an array of empirical distributions. The sequence of calls to each sampler is random, so as to avoid background noise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-truncate" class="anchored"><a href="#val-truncate" class="anchor"></a><code><span><span class="keyword">val</span> truncate : <span><span>(<span class="keyword">module</span> <a href="../Structures/module-type-Ordered/index.html">Structures.Ordered</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Structures/module-type-Ordered/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'elt</span> <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span>float <span>&#45;&gt;</span></span> <span><span class="type-var">'elt</span> <a href="#type-emp">emp</a></span></span></code></div><div class="spec-doc"><p><code>truncate (module O) dist p</code> conditions an empirical distribution on a totally ordered space on the lower subset containing <code>p</code> mass.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-quantile" class="anchored"><a href="#val-quantile" class="anchor"></a><code><span><span class="keyword">val</span> quantile : <span><span>(<span class="keyword">module</span> <a href="../Structures/module-type-Ordered/index.html">Structures.Ordered</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Structures/module-type-Ordered/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'elt</span> <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span>float <span>&#45;&gt;</span></span> <span class="type-var">'elt</span></span></code></div><div class="spec-doc"><p><code>quantile (module O) dist p</code> returns the value x that splits the support of the distribution into a lower subset of mass <code>p</code> and an upper subset of mass <code>1-p</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mean" class="anchored"><a href="#val-mean" class="anchor"></a><code><span><span class="keyword">val</span> mean : <span><span>(<span class="keyword">module</span> <a href="../Structures/module-type-Linear/index.html">Structures.Linear</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Structures/module-type-Linear/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'elt</span> <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span class="type-var">'elt</span></span></code></div><div class="spec-doc"><p>Computes the mean of a distribution that lives on a linear space.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-variance" class="anchored"><a href="#val-variance" class="anchor"></a><code><span><span class="keyword">val</span> variance : <span><span>float <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Computes the variance of a distribution on floats. Note that we use the biased estimator for empirical distributions, so care should be taken for small samples sizes (e.g. #samples &gt; 50 is good).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_outliers" class="anchored"><a href="#val-remove_outliers" class="anchor"></a><code><span><span class="keyword">val</span> remove_outliers : <span>nsigmas:float <span>&#45;&gt;</span></span> <span><span>float <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span>float <a href="#type-emp">emp</a></span></span></code></div><div class="spec-doc"><p>Remove data points which are <code>nsigmas</code> standard deviations above (or below) the mean.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-raw_data_empirical" class="anchored"><a href="#val-raw_data_empirical" class="anchor"></a><code><span><span class="keyword">val</span> raw_data_empirical : <span><span><span class="type-var">'elt</span> <a href="#type-emp">emp</a></span> <span>&#45;&gt;</span></span> <span>[ <span>`Empirical of <span><span class="type-var">'elt</span> array</span></span> ]</span></span></code></div><div class="spec-doc"><p>Returns the raw data underlying an empirical distribution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-raw_data_density" class="anchored"><a href="#val-raw_data_density" class="anchor"></a><code><span><span class="keyword">val</span> raw_data_density : <span><span><span class="type-var">'elt</span> <a href="#type-fin_den">fin_den</a></span> <span>&#45;&gt;</span></span> <span>[ <span>`Density of <span><span>(<span class="type-var">'elt</span> * float)</span> list</span></span> ]</span></span></code></div><div class="spec-doc"><p>Returns the raw data underlying a finitely supported density.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-raw_data_probability" class="anchored"><a href="#val-raw_data_probability" class="anchor"></a><code><span><span class="keyword">val</span> raw_data_probability : <span><span><span class="type-var">'elt</span> <a href="#type-fin_prb">fin_prb</a></span> <span>&#45;&gt;</span></span> <span>[ <span>`Probability of <span><span>(<span class="type-var">'elt</span> * float)</span> list</span></span> ]</span></span></code></div><div class="spec-doc"><p>Returns the raw data underlying a finitely supported probability.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_fin_fun" class="anchored"><a href="#val-pp_fin_fun" class="anchor"></a><code><span><span class="keyword">val</span> pp_fin_fun : <span><span>(<span><a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span>&#45;&gt;</span></span> unit)</span> <span>&#45;&gt;</span></span> <span><a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-fin_fun">fin_fun</a></span> <span>&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Pretty print density or finitely supported probability.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-proj_ordered" class="anchored"><a href="#val-proj_ordered" class="anchor"></a><code><span><span class="keyword">val</span> proj_ordered : <span><span><span class="type-var">'a</span> <a href="#type-fin_fun">fin_fun</a></span> <span>&#45;&gt;</span></span> <span>(<span class="keyword">module</span> <a href="../Structures/module-type-Ordered/index.html">Structures.Ordered</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Structures/module-type-Ordered/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span></span></code></div><div class="spec-doc"><p>Projects out the ordered structure underlying the support of the finitely supported function.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-shannon_entropy" class="anchored"><a href="#val-shannon_entropy" class="anchor"></a><code><span><span class="keyword">val</span> shannon_entropy : <span><span>float <a href="#type-fin_prb">fin_prb</a></span> <span>&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Shannon entropy (ie computed with base 2 logarithms).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-coin" class="anchored"><a href="#val-coin" class="anchor"></a><code><span><span class="keyword">val</span> coin : <span>bias:float <span>&#45;&gt;</span></span> <span>bool <a href="#type-fin_prb">fin_prb</a></span></span></code></div><div class="spec-doc"><p>Biased coin. Raises an error if <code>bias</code> is not in <code>0,1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exponential" class="anchored"><a href="#val-exponential" class="anchor"></a><code><span><span class="keyword">val</span> exponential : <span>rate:float <span>&#45;&gt;</span></span> <span>float <a href="#type-gen">gen</a></span></span></code></div><div class="spec-doc"><p>Exponential distribution via inverse CDF.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-gaussian" class="anchored"><a href="#val-gaussian" class="anchor"></a><code><span><span class="keyword">val</span> gaussian : <span>mean:float <span>&#45;&gt;</span></span> <span>std:float <span>&#45;&gt;</span></span> <span>float <a href="#type-gen">gen</a></span></span></code></div><div class="spec-doc"><p>Gaussian distribution via Box-Muller transform. Returns a pair of _independent_ gaussian variates with prescribed mean and standard deviation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-binomial" class="anchored"><a href="#val-binomial" class="anchor"></a><code><span><span class="keyword">val</span> binomial : <span><span>bool <a href="#type-fin_prb">fin_prb</a></span> <span>&#45;&gt;</span></span> <span>int <span>&#45;&gt;</span></span> <span>int <a href="#type-fin_prb">fin_prb</a></span></span></code></div><div class="spec-doc"><p>Binomial distribution. <code>binomial p n</code> returns the probability of having <code>k</code> successes over <code>n</code> experiments, according to a biased coin <code>p</code>.</p></div></div></div></body></html>