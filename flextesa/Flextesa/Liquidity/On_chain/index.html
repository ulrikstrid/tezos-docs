<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>On_chain (flextesa.Flextesa.Liquidity.On_chain)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">flextesa</a> &#x00BB; <a href="../../index.html">Flextesa</a> &#x00BB; <a href="../index.html">Liquidity</a> &#x00BB; On_chain</nav><header class="odoc-preamble"><h1>Module <code><span>Liquidity.On_chain</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-tezos_client_keyed_originate_contract" class="anchored"><a href="#val-tezos_client_keyed_originate_contract" class="anchor"></a><code><span><span class="keyword">val</span> tezos_client_keyed_originate_contract : <span>?&#8288;force:<a href="../../Internal_pervasives/index.html#type-bool">Internal_pervasives.bool</a> <span>&#45;&gt;</span></span> <span>?&#8288;transferring:<a href="../../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a> <span>&#45;&gt;</span></span>
<span>?&#8288;burn_cap:<a href="../../Internal_pervasives/index.html#type-float">Internal_pervasives.float</a> <span>&#45;&gt;</span></span>
<span><span>&lt; application_name : <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; console : <a href="../../Console/index.html#type-t">Console.t</a>; paths : <a href="../../Paths/index.html#type-t">Paths.t</a>; env_config : <a href="../../Environment_configuration/index.html#type-t">Environment_configuration.t</a>; runner : <a href="../../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="../../Tezos_client/Keyed/index.html#type-t">Tezos_client.Keyed.t</a> <span>&#45;&gt;</span></span> <span>name:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>
<span>&#45;&gt;</span></span> <span>source:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span>storage:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span><span>(<a href="../../Internal_pervasives/Process_result/index.html#type-t">Internal_pervasives.Process_result.t</a>, <span>[&gt; <a href="../../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a> <span>| <a href="../../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a></span> ]</span>)</span> <a href="../../Internal_pervasives/Asynchronous_result/index.html#type-t">Internal_pervasives.Asynchronous_result.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-build_and_deploy" class="anchored"><a href="#val-build_and_deploy" class="anchor"></a><code><span><span class="keyword">val</span> build_and_deploy : <span>?&#8288;burn_cap:<a href="../../Internal_pervasives/index.html#type-float">Internal_pervasives.float</a> <span>&#45;&gt;</span></span>
<span><span>&lt; application_name : <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; console : <a href="../../Console/index.html#type-t">Console.t</a>; env_config : <a href="../../Environment_configuration/index.html#type-t">Environment_configuration.t</a>; operations_log : <a href="../../Log_recorder/Operations/index.html#type-t">Log_recorder.Operations.t</a>; paths : <a href="../../Paths/index.html#type-t">Paths.t</a>; runner : <a href="../../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="../Contract/index.html#type-t">Contract.t</a> <span>&#45;&gt;</span></span> <span>keyed_client:<a href="../../Tezos_client/Keyed/index.html#type-t">Tezos_client.Keyed.t</a>
<span>&#45;&gt;</span></span> <span>storage:<span><span>(<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> * <a href="../Data/index.html#type-t">Data.t</a>)</span> <a href="../../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span> <span>&#45;&gt;</span></span> <span>balance:<a href="../../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a> <span>&#45;&gt;</span></span> <span><span>(<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>, <span>[&gt; <a href="../../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a> <span>| <a href="../../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a></span> <span>| <a href="../../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a></span> ]</span>)</span> <a href="../../Internal_pervasives/Asynchronous_result/index.html#type-t">Internal_pervasives.Asynchronous_result.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-silent_client_cmd" class="anchored"><a href="#val-silent_client_cmd" class="anchor"></a><code><span><span class="keyword">val</span> silent_client_cmd : <span><span><span>&lt; paths : <a href="../../Paths/index.html#type-t">Paths.t</a>; env_config : <a href="../../Environment_configuration/index.html#type-t">Environment_configuration.t</a>; runner : <a href="../../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <a href="../../Internal_pervasives/Base_state/index.html#type-t">Internal_pervasives.Base_state.t</a></span> <span>&#45;&gt;</span></span> <span>client:<a href="../../Tezos_client/index.html#type-t">Tezos_client.t</a> <span>&#45;&gt;</span></span>
<span><span><a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <a href="../../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span> <span>&#45;&gt;</span></span> <span><span>(<a href="../../Internal_pervasives/index.html#type-bool">Internal_pervasives.bool</a> * <a href="../../Internal_pervasives/Process_result/index.html#type-t">Internal_pervasives.Process_result.t</a>, <span>[&gt; <a href="../../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a> ]</span>)</span> <a href="../../Internal_pervasives/Asynchronous_result/index.html#type-t">Internal_pervasives.Asynchronous_result.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-call" class="anchored"><a href="#val-call" class="anchor"></a><code><span><span class="keyword">val</span> call : <span>?&#8288;msg:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span>
<span>?&#8288;should:<span>[ `Be_ok <span>| `Fail</span> <span><span>| `Script_failwith_re</span> of <a href="../../../../re/Re/index.html#type-re">Re.re</a></span> <span><span>| `Command_stderr_re</span> of <a href="../../../../re/Re/index.html#type-re">Re.re</a></span> ]</span>
<span>&#45;&gt;</span></span> <span>?&#8288;transferring:<a href="../../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a> <span>&#45;&gt;</span></span> <span>?&#8288;burn_cap:<a href="../../Internal_pervasives/index.html#type-float">Internal_pervasives.float</a> <span>&#45;&gt;</span></span>
<span><span>&lt; application_name : <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; console : <a href="../../Console/index.html#type-t">Console.t</a>; env_config : <a href="../../Environment_configuration/index.html#type-t">Environment_configuration.t</a>; paths : <a href="../../Paths/index.html#type-t">Paths.t</a>; runner : <a href="../../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="../Contract/index.html#type-t">Contract.t</a> <span>&#45;&gt;</span></span> <span>keyed_client:<a href="../../Tezos_client/Keyed/index.html#type-t">Tezos_client.Keyed.t</a>
<span>&#45;&gt;</span></span> <span>entry_point:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span>data:<a href="../Data/index.html#type-t">Data.t</a> <span>&#45;&gt;</span></span> <span><span>(<a href="../../Internal_pervasives/Process_result/index.html#type-t">Internal_pervasives.Process_result.t</a>, <span>[&gt; <a href="../../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a> <span><span>| `Scenario_error</span> of <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span> <span>| <a href="../../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a></span> ]</span>)</span> <a href="../../Internal_pervasives/Asynchronous_result/index.html#type-t">Internal_pervasives.Asynchronous_result.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-key_with_type_json" class="anchored"><a href="#val-key_with_type_json" class="anchor"></a><code><span><span class="keyword">val</span> key_with_type_json : <span><span>[&lt; <span>`Nat of <a href="../../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a></span> ]</span> <span>&#45;&gt;</span></span> <span>[&gt; <a href="../../../../ezjsonm/Ezjsonm/index.html#type-t">Ezjsonm.t</a> ]</span> * <span>[&gt; <a href="../../../../ezjsonm/Ezjsonm/index.html#type-t">Ezjsonm.t</a> ]</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-big_map_get" class="anchored"><a href="#val-big_map_get" class="anchor"></a><code><span><span class="keyword">val</span> big_map_get : <span><span>&lt; application_name : <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; console : <a href="../../Console/index.html#type-t">Console.t</a>; paths : <a href="../../Paths/index.html#type-t">Paths.t</a>; env_config : <a href="../../Environment_configuration/index.html#type-t">Environment_configuration.t</a>; runner : <a href="../../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span>client:<a href="../../Tezos_client/index.html#type-t">Tezos_client.t</a>
<span>&#45;&gt;</span></span> <span>address:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span>key:<span>[&lt; <span>`Nat of <a href="../../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a></span> ]</span> <span>&#45;&gt;</span></span> <span><span>(<span>&lt; post : <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; result : <a href="../../../../ezjsonm/Ezjsonm/index.html#type-value">Ezjsonm.value</a>; &gt;</span>, <span>[&gt; <a href="../../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a> <span>| <a href="../../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a></span> ]</span>)</span> <a href="../../Internal_pervasives/Asynchronous_result/index.html#type-t">Internal_pervasives.Asynchronous_result.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-show_contract_command" class="anchored"><a href="#val-show_contract_command" class="anchor"></a><code><span><span class="keyword">val</span> show_contract_command : <span><span>&lt; application_name : <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; console : <a href="../../Console/index.html#type-t">Console.t</a>; env_config : <a href="../../Environment_configuration/index.html#type-t">Environment_configuration.t</a>; paths : <a href="../../Paths/index.html#type-t">Paths.t</a>; runner : <a href="../../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span>client:<a href="../../Tezos_client/index.html#type-t">Tezos_client.t</a>
<span>&#45;&gt;</span></span> <span>name:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span>address:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span>pp_error:<span>(<span><a href="../../../../base/Caml/Format/index.html#type-formatter">Caml.Format.formatter</a> <span>&#45;&gt;</span></span> <span><span>[&gt; <a href="../../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a> <span>| <a href="../../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a></span> ]</span> <span>&#45;&gt;</span></span> <a href="../../Internal_pervasives/index.html#type-unit">Internal_pervasives.unit</a>)</span> <span>&#45;&gt;</span></span> <a href="../../Console/Prompt/index.html#type-item">Console.Prompt.item</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-big_map_get_command" class="anchored"><a href="#val-big_map_get_command" class="anchor"></a><code><span><span class="keyword">val</span> big_map_get_command : <span><span>&lt; application_name : <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; console : <a href="../../Console/index.html#type-t">Console.t</a>; paths : <a href="../../Paths/index.html#type-t">Paths.t</a>; env_config : <a href="../../Environment_configuration/index.html#type-t">Environment_configuration.t</a>; runner : <a href="../../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span>names:<span><a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <a href="../../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span>
<span>&#45;&gt;</span></span> <span>thing:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span>client:<a href="../../Tezos_client/index.html#type-t">Tezos_client.t</a> <span>&#45;&gt;</span></span> <span>name:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span>address:<a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span>
<span>key_of_string:<span>(<span><a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a> <span>&#45;&gt;</span></span> <span><span>(<span>[&lt; <span>`Nat of <a href="../../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a></span> ]</span>, <span>[&gt; <a href="../../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a> <span>| <a href="../../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a></span> <span><span>| `Scenario_error</span> of <a href="../../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span> ]</span> <span class="keyword">as</span> 'errors)</span> <a href="../../Internal_pervasives/Asynchronous_result/index.html#type-t">Internal_pervasives.Asynchronous_result.t</a></span>)</span>
<span>&#45;&gt;</span></span> <span>pp_error:<span>(<span><a href="../../../../base/Caml/Format/index.html#type-formatter">Caml.Format.formatter</a> <span>&#45;&gt;</span></span> <span><span class="type-var">'errors</span> <span>&#45;&gt;</span></span> <a href="../../Internal_pervasives/index.html#type-unit">Internal_pervasives.unit</a>)</span> <span>&#45;&gt;</span></span> <a href="../../Console/Prompt/index.html#type-item">Console.Prompt.item</a></span></code></div></div></div></body></html>