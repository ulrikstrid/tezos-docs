<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tezos_protocol (flextesa.Flextesa.Tezos_protocol)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">flextesa</a> &#x00BB; <a href="../index.html">Flextesa</a> &#x00BB; Tezos_protocol</nav><header class="odoc-preamble"><h1>Module <code><span>Flextesa.Tezos_protocol</span></code></h1><p>Create and manipulate bootstrap-parameters and accounts.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Key" class="anchored"><a href="#module-Key" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Key/index.html">Key</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Manipulate public/private key pairs.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Account" class="anchored"><a href="#module-Account" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Account/index.html">Account</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>An account is a named key-pair.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Voting_period" class="anchored"><a href="#module-Voting_period" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Voting_period/index.html">Voting_period</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Protocol_kind" class="anchored"><a href="#module-Protocol_kind" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Protocol_kind/index.html">Protocol_kind</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><table><tr id="type-t.id" class="anchored"><td class="def record field"><a href="#type-t.id" class="anchor"></a><code><span>id : <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>;</span></code></td></tr><tr id="type-t.kind" class="anchored"><td class="def record field"><a href="#type-t.kind" class="anchor"></a><code><span>kind : <a href="Protocol_kind/index.html#type-t">Protocol_kind.t</a>;</span></code></td></tr><tr id="type-t.bootstrap_accounts" class="anchored"><td class="def record field"><a href="#type-t.bootstrap_accounts" class="anchor"></a><code><span>bootstrap_accounts : <span><span>(<a href="Account/index.html#type-t">Account.t</a> * <a href="../../../base/Base/Int64/index.html#type-t">Internal_pervasives.Int64.t</a>)</span> <a href="../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span>;</span></code></td></tr><tr id="type-t.dictator" class="anchored"><td class="def record field"><a href="#type-t.dictator" class="anchor"></a><code><span>dictator : <a href="Account/index.html#type-t">Account.t</a>;</span></code></td></tr><tr id="type-t.expected_pow" class="anchored"><td class="def record field"><a href="#type-t.expected_pow" class="anchor"></a><code><span>expected_pow : <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a>;</span></code></td></tr><tr id="type-t.name" class="anchored"><td class="def record field"><a href="#type-t.name" class="anchor"></a><code><span>name : <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>;</span></code></td></tr><tr id="type-t.hash" class="anchored"><td class="def record field"><a href="#type-t.hash" class="anchor"></a><code><span>hash : <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>;</span></code></td></tr><tr id="type-t.time_between_blocks" class="anchored"><td class="def record field"><a href="#type-t.time_between_blocks" class="anchor"></a><code><span>time_between_blocks : <span><a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a> <a href="../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span>;</span></code></td></tr><tr id="type-t.minimal_block_delay" class="anchored"><td class="def record field"><a href="#type-t.minimal_block_delay" class="anchor"></a><code><span>minimal_block_delay : <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a>;</span></code></td></tr><tr id="type-t.baking_reward_per_endorsement" class="anchored"><td class="def record field"><a href="#type-t.baking_reward_per_endorsement" class="anchor"></a><code><span>baking_reward_per_endorsement : <span><a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a> <a href="../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span>;</span></code></td></tr><tr id="type-t.endorsement_reward" class="anchored"><td class="def record field"><a href="#type-t.endorsement_reward" class="anchor"></a><code><span>endorsement_reward : <span><a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a> <a href="../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span>;</span></code></td></tr><tr id="type-t.blocks_per_roll_snapshot" class="anchored"><td class="def record field"><a href="#type-t.blocks_per_roll_snapshot" class="anchor"></a><code><span>blocks_per_roll_snapshot : <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a>;</span></code></td></tr><tr id="type-t.blocks_per_voting_period" class="anchored"><td class="def record field"><a href="#type-t.blocks_per_voting_period" class="anchor"></a><code><span>blocks_per_voting_period : <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a>;</span></code></td></tr><tr id="type-t.blocks_per_cycle" class="anchored"><td class="def record field"><a href="#type-t.blocks_per_cycle" class="anchor"></a><code><span>blocks_per_cycle : <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a>;</span></code></td></tr><tr id="type-t.preserved_cycles" class="anchored"><td class="def record field"><a href="#type-t.preserved_cycles" class="anchor"></a><code><span>preserved_cycles : <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a>;</span></code></td></tr><tr id="type-t.proof_of_work_threshold" class="anchored"><td class="def record field"><a href="#type-t.proof_of_work_threshold" class="anchor"></a><code><span>proof_of_work_threshold : <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a>;</span></code></td></tr><tr id="type-t.timestamp_delay" class="anchored"><td class="def record field"><a href="#type-t.timestamp_delay" class="anchor"></a><code><span>timestamp_delay : <span><a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a> <a href="../Internal_pervasives/index.html#type-option">Internal_pervasives.option</a></span>;</span></code></td></tr><tr id="type-t.custom_protocol_parameters" class="anchored"><td class="def record field"><a href="#type-t.custom_protocol_parameters" class="anchor"></a><code><span>custom_protocol_parameters : <span><a href="../../../ezjsonm/Ezjsonm/index.html#type-t">Ezjsonm.t</a> <a href="../Internal_pervasives/index.html#type-option">Internal_pervasives.option</a></span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p><code>t</code> wraps bootstrap parameters for sandboxed protocols.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-default" class="anchored"><a href="#val-default" class="anchor"></a><code><span><span class="keyword">val</span> default : <span><a href="../Internal_pervasives/index.html#type-unit">Internal_pervasives.unit</a> <span>&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-protocol_parameters_json" class="anchored"><a href="#val-protocol_parameters_json" class="anchor"></a><code><span><span class="keyword">val</span> protocol_parameters_json : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../../../ezjsonm/Ezjsonm/index.html#type-t">Ezjsonm.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sandbox" class="anchored"><a href="#val-sandbox" class="anchor"></a><code><span><span class="keyword">val</span> sandbox : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-protocol_parameters" class="anchored"><a href="#val-protocol_parameters" class="anchor"></a><code><span><span class="keyword">val</span> protocol_parameters : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-voting_period_to_string" class="anchored"><a href="#val-voting_period_to_string" class="anchor"></a><code><span><span class="keyword">val</span> voting_period_to_string : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <span><a href="Voting_period/index.html#type-t">Voting_period.t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-expected_pow" class="anchored"><a href="#val-expected_pow" class="anchor"></a><code><span><span class="keyword">val</span> expected_pow : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-int">Internal_pervasives.int</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-id" class="anchored"><a href="#val-id" class="anchor"></a><code><span><span class="keyword">val</span> id : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bootstrap_accounts" class="anchored"><a href="#val-bootstrap_accounts" class="anchor"></a><code><span><span class="keyword">val</span> bootstrap_accounts : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <span><a href="Account/index.html#type-t">Account.t</a> <a href="../Internal_pervasives/index.html#type-list">Internal_pervasives.list</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-kind" class="anchored"><a href="#val-kind" class="anchor"></a><code><span><span class="keyword">val</span> kind : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="Protocol_kind/index.html#type-t">Protocol_kind.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dictator_name" class="anchored"><a href="#val-dictator_name" class="anchor"></a><code><span><span class="keyword">val</span> dictator_name : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dictator_secret_key" class="anchored"><a href="#val-dictator_secret_key" class="anchor"></a><code><span><span class="keyword">val</span> dictator_secret_key : <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sandbox_path" class="anchored"><a href="#val-sandbox_path" class="anchor"></a><code><span><span class="keyword">val</span> sandbox_path : <span><span>&lt; paths : <a href="../Paths/index.html#type-t">Paths.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-protocol_parameters_path" class="anchored"><a href="#val-protocol_parameters_path" class="anchor"></a><code><span><span class="keyword">val</span> protocol_parameters_path : <span><span>&lt; paths : <a href="../Paths/index.html#type-t">Paths.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ensure_script" class="anchored"><a href="#val-ensure_script" class="anchor"></a><code><span><span class="keyword">val</span> ensure_script : <span><span>&lt; paths : <a href="../Paths/index.html#type-t">Paths.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <span><a href="../Internal_pervasives/index.html#type-unit">Internal_pervasives.unit</a> <a href="../../../genspio/Genspio/Language/index.html#type-t">Genspio.Language.t</a></span></span></code></div><div class="spec-doc"><p>Build a <a href="../../../genspio/Genspio/EDSL/index.html#type-t"><code>Genspio.EDSL.t</code></a> script which generates the bootstrap-parameters JSON file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ensure" class="anchored"><a href="#val-ensure" class="anchor"></a><code><span><span class="keyword">val</span> ensure : <span><span>&lt; application_name : <a href="../Internal_pervasives/index.html#type-string">Internal_pervasives.string</a>; paths : <a href="../Paths/index.html#type-t">Paths.t</a>; runner : <a href="../Running_processes/State/index.html#type-t">Running_processes.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span>&#45;&gt;</span></span> <span><span>(<a href="../Internal_pervasives/index.html#type-unit">Internal_pervasives.unit</a>, <span>[&gt; <a href="../Internal_pervasives/System_error/index.html#type-t">Internal_pervasives.System_error.t</a> <span>| <a href="../Internal_pervasives/Process_result/Error/index.html#type-t">Internal_pervasives.Process_result.Error.t</a></span> ]</span>)</span> <a href="../Internal_pervasives/Asynchronous_result/index.html#type-t">Internal_pervasives.Asynchronous_result.t</a></span></span></code></div><div class="spec-doc"><p>Run the script created by <code>ensure_script</code>, i.e. create the JSON bootstrap parameters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cli_term" class="anchored"><a href="#val-cli_term" class="anchor"></a><code><span><span class="keyword">val</span> cli_term : <span><span>&lt; manpager : <a href="../Internal_pervasives/Manpage_builder/State/index.html#type-t">Internal_pervasives.Manpage_builder.State.t</a>; .. &gt;</span> <span>&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../../cmdliner/Cmdliner/Term/index.html#type-t">Cmdliner.Term.t</a></span></span></code></div><div class="spec-doc"><p>Create a <code>Cmdliner</code> term which configures protocol-parameters (e.g. options like <code>&quot;--time-between-blocks&quot;</code>).</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Pretty_print" class="anchored"><a href="#module-Pretty_print" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Pretty_print/index.html">Pretty_print</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Pretty-printers for protocol-dependent things (e.g. RPC JSON blobs).</p></div></div></div></body></html>